sudo apt update
sudo apt install snapd
sudo apt install terraform

# Download Terraform
wget https://releases.hashicorp.com/terraform/1.7.0-rc1/terraform_1.7.0-rc1_linux_amd64.zip

# Unzip the archive
unzip terraform_1.7.0-rc1_linux_amd64.zip

# Move the binary to a directory in your PATH
sudo mv terraform /usr/local/bin/


sudo snap install terraform --classic 
terraform init
terraform -version
terraform fmt
terraform validate
terraform plan
translatebot-405321
export TF_VAR_GOOGLE_PROJECT=translatebot-405321
terraform plan -out demo

gcloud auth list
gcloud config list project

gcloud config set account maxeem23@gmail.com
gcloud auth login
gcloud config set project translatebot-405321
gcloud auth application-default login

terraform init -reconfigure

terraform init
terraform fmt
terraform validate
terraform plan
translatebot-405321
terraform apply
terraform state list
terraform show

#When migrating or sharing state files, make sure to remove sensitive information. Use 

terraform console
google_container_cluster.demo.node_pool[0].managed_instance_groups_urls[0]

#infracost
curl -fsSL https://raw.githubusercontent.com/infracost/infracost/master/scripts/install.sh | sh

infracost configure get api_key
infracost configure set api_key ico-
infracost auth login 
infracost --version
infracost breakdown --path . --format json --out-file infracost-base.json --terraform-var-file vars.tfvars
infracost diff --path . --compare-to infracost-base.json --terraform-var-file vars.tfvars 
infracost upload --path infracost-base.json

export TF_VAR_GOOGLE_PROJECT=translatebot-405321

export TF_VAR_GITHUB_OWNER=savkusamdetka23
export TF_VAR_GITHUB_TOKEN=ghp_


export TF_VAR_GITHUB_OWNER=savkusamdekta

export KUBECONFIG=./modules/tf-kind-cluster/kind-config 
 export KUBECONFIG=./modules/tf-google-gke-cluster/kubeconfig



terraform state rm
terraform destroy
 terraform init
 terraform init -upgrade

terraform fmt
terraform validate
terraform plan
terraform apply

# Download Kind binary
curl -Lo ./kind https://kind.sigs.k8s.io/dl/v0.11.1/kind-linux-amd64

# Make it executable
chmod +x ./kind

# Move it to a directory in your PATH (e.g., /usr/local/bin)
sudo mv ./kind /usr/local/bin/

kind --version

kubectl config use-context kind-kind-kind-cluster
kind export kubeconfig --name kind-kind-cluster
kind export kubeconfig --name kind-cluster

kind delete cluster --name kind-cluster
kubectl config use-context kind-kind-cluster

terraform state list
kubectl create namespace flux-system


terraform state list
kind get clusters
kind export kubeconfig --name kind-cluster
kubectl config get-contexts
kubectl cluster-info
kubectl get nodes
kubectl get namespaces
kubectl get pods -A
kubectl get pods
kind export kubeconfig --name kind-cluster
kubectl get po -n flux-system  

 terraform init --backend-config="bucket=tf-state-23"
 terraform init
terraform init -upgrade
terraform validate
terraform plan -lock=false
terraform apply -lock=false
terraform plan 
terraform apply


gsutil mb gs://tf-state-23

 
curl -s https://fluxcd.io/install.sh | bash
flux get all
flux logs -f
flux get all -A

flux get all -A --status-selector ready=false 
kubectl describe po -n demo
kubectl get pods -A
kubectl apply -f https://raw.githubusercontent.com/fluxcd/helm-operator/master/deploy/crds.yaml
kubectl get crd | grep helmreleases.helm.toolkit.fluxcd.io
kubectl create secret generic kbot --namespace=demo --from-literal=token=""

sudo snap install jq 
kubectl logs -n flux-system deployment/helm-controller | jq -r 'select(.source != null) | .source'